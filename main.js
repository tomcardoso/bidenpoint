(function(root) {

  var bidenCoords = [{
    "file": "1.jpg",
    "xy": [0.035, 0.3008039579468151]
  }, {
    "file": "2.jpg",
    "xy": [0.284, 0.42318367346938773]
  }, {
    "file": "3.jpg",
    "xy": [0.806, 0.5674133459089837]
  }, {
    "file": "4.jpg",
    "xy": [0.869, 0.6975108986077907]
  }, {
    "file": "5.jpg",
    "xy": [0.321, 0.688]
  }, {
    "file": "6.jpg",
    "xy": [0.458, 0.5998437906795105]
  }, {
    "file": "7.jpg",
    "xy": [0.114, 0.46162790697674416]
  }, {
    "file": "8.jpg",
    "xy": [0.102, 0.465359477124183]
  }, {
    "file": "9.jpg",
    "xy": [0.425, 0.566]
  }, {
    "file": "10.jpg",
    "xy": [0.348, 0.631746776084408]
  }, {
    "file": "11.jpg",
    "xy": [0.969, 0.45682891806963144]
  }, {
    "file": "12.jpg",
    "xy": [0.498, 0.5475085548211691]
  }, {
    "file": "13.jpg",
    "xy": [0.738, 0.5750784886868031]
  }, {
    "file": "14.jpg",
    "xy": [0.641, 0.528]
  }, {
    "file": "15.jpg",
    "xy": [0.345, 0.614354066985646]
  }, {
    "file": "16.jpg",
    "xy": [0.519, 0.468]
  }, {
    "file": "17.jpg",
    "xy": [0.56, 0.5735674716061001]
  }, {
    "file": "18.jpg",
    "xy": [0.585, 0.539979570990807]
  }, {
    "file": "19.jpg",
    "xy": [0.617, 0.7100478468899522]
  }, {
    "file": "20.jpg",
    "xy": [0.56, 0.42355188647062836]
  }, {
    "file": "21.jpg",
    "xy": [0.249, 0.3282275711159737]
  }, {
    "file": "22.jpg",
    "xy": [0.027, 0.6952750926009577]
  }, {
    "file": "23.jpg",
    "xy": [0.302, 0.3761817065684469]
  }, {
    "file": "24.jpg",
    "xy": [0.153, 0.46239532619279455]
  }, {
    "file": "25.jpg",
    "xy": [0.155, 0.748]
  }, {
    "file": "26.jpg",
    "xy": [0.373, 0.6646530679796433]
  }, {
    "file": "27.jpg",
    "xy": [0.308, 0.38956521739130434]
  }, {
    "file": "28.jpg",
    "xy": [0.092, 0.3645419800271237]
  }, {
    "file": "29.jpg",
    "xy": [0.284, 0.5042166000887706]
  }, {
    "file": "30.jpg",
    "xy": [0.637, 0.402223108130291]
  }, {
    "file": "31.jpg",
    "xy": [0.6, 0.37259965256584815]
  }, {
    "file": "32.jpg",
    "xy": [0.888, 0.6077586206896551]
  }, {
    "file": "33.jpg",
    "xy": [0.491, 0.688]
  }, {
    "file": "34.jpg",
    "xy": [0.593, 0.4591596915845462]
  }, {
    "file": "35.jpg",
    "xy": [0.318, 0.4408888888888889]
  }, {
    "file": "36.jpg",
    "xy": [0.194, 0.5633712029651116]
  }, {
    "file": "37.jpg",
    "xy": [0.459, 0.6099447513812155]
  }, {
    "file": "38.jpg",
    "xy": [0.262, 0.6570102657854029]
  }, {
    "file": "39.jpg",
    "xy": [0.288, 0.31466666666666665]
  }, {
    "file": "40.jpg",
    "xy": [0.529, 0.73]
  }, {
    "file": "41.jpg",
    "xy": [0.129, 0.7599063231850117]
  }, {
    "file": "42.jpg",
    "xy": [0.125, 0.7658421998065497]
  }, {
    "file": "43.jpg",
    "xy": [0.892, 0.38005563877594695]
  }, {
    "file": "44.jpg",
    "xy": [0.316, 0.6247349823321555]
  }, {
    "file": "45.jpg",
    "xy": [0.614, 0.5210046677039342]
  }, {
    "file": "46.jpg",
    "xy": [0.265, 0.33444995310196973]
  }, {
    "file": "47.jpg",
    "xy": [0.284, 0.178]
  }, {
    "file": "48.jpg",
    "xy": [0.939, 0.6025157232704402]
  }, {
    "file": "49.jpg",
    "xy": [0.099, 0.347733232832399]
  }, {
    "file": "50.jpg",
    "xy": [0.138, 0.756]
  }, {
    "file": "51.jpg",
    "xy": [0.334, 0.4617987931419814]
  }, {
    "file": "52.jpg",
    "xy": [0.726, 0.6473645137342242]
  }, {
    "file": "53.jpg",
    "xy": [0.307, 0.2418330430121935]
  }, {
    "file": "54.jpg",
    "xy": [0.677, 0.37708920187793427]
  }, {
    "file": "55.jpg",
    "xy": [0.388, 0.36250438853130484]
  }, {
    "file": "56.jpg",
    "xy": [0.514, 0.43534351324091664]
  }, {
    "file": "57.jpg",
    "xy": [0.432, 0.5902222222222222]
  }, {
    "file": "58.jpg",
    "xy": [0.06, 0.5875119078548541]
  }, {
    "file": "59.jpg",
    "xy": [0.42, 0.5999665942876232]
  }, {
    "file": "60.jpg",
    "xy": [0.185, 0.5844139598882542]
  }, {
    "file": "61.jpg",
    "xy": [0.372, 0.49272343420126674]
  }, {
    "file": "62.jpg",
    "xy": [0.621, 0.33636439476099106]
  }, {
    "file": "63.jpg",
    "xy": [0.106, 0.2325036328692636]
  }, {
    "file": "64.jpg",
    "xy": [0.063, 0.5265442851400242]
  }, {
    "file": "65.jpg",
    "xy": [0.49, 0.49526671675432005]
  }, {
    "file": "66.jpg",
    "xy": [0.512, 0.584]
  }, {
    "file": "67.jpg",
    "xy": [0.516, 0.5366666666666666]
  }, {
    "file": "68.jpg",
    "xy": [0.381, 0.7461276295686919]
  }, {
    "file": "69.jpg",
    "xy": [0.101, 0.5684215200834869]
  }, {
    "file": "70.jpg",
    "xy": [0.309, 0.5243058450762945]
  }, {
    "file": "71.jpg",
    "xy": [0.295, 0.43866666666666665]
  }, {
    "file": "72.jpg",
    "xy": [0.89, 0.7963657910329844]
  }, {
    "file": "73.jpg",
    "xy": [0.133, 0.4971561358858028]
  }, {
    "file": "74.jpg",
    "xy": [0.198, 0.4114942050396388]
  }, {
    "file": "75.jpg",
    "xy": [0.091, 0.636]
  }, {
    "file": "76.jpg",
    "xy": [0.882, 0.6429483265804518]
  }, {
    "file": "77.jpg",
    "xy": [0.691, 0.48325526113402784]
  }, {
    "file": "78.jpg",
    "xy": [0.761, 0.8]
  }, {
    "file": "79.jpg",
    "xy": [0.39, 0.24328937160589603]
  }, {
    "file": "80.jpg",
    "xy": [0.958, 0.6420966420966421]
  }, {
    "file": "81.jpg",
    "xy": [0.684, 0.6320379633192253]
  }, {
    "file": "82.jpg",
    "xy": [0.123, 0.6840106876669948]
  }, {
    "file": "83.jpg",
    "xy": [0.78, 0.5883500013928741]
  }, {
    "file": "84.jpg",
    "xy": [0.393, 0.6304053204420661]
  }, {
    "file": "85.jpg",
    "xy": [0.52, 0.6377009019301966]
  }, {
    "file": "86.jpg",
    "xy": [0.596, 0.72]
  }, {
    "file": "87.jpg",
    "xy": [0.953, 0.6557486075317982]
  }];

  var el = document.querySelector(".bidenwrap");

  var first = true;

  var scheduled = false,
      lastEvent;

  el.addEventListener("mousemove", function(event) {
    lastEvent = event;
    if (!scheduled) {
      scheduled = true;
      var time = first ? 4000 : 2000;
      root.setTimeout(function() {
        scheduled = false;
        displayBiden(lastEvent);
        first = false;
      }, time);
    }
  });

  if (!isTouchDevice()) {
    el.addEventListener("click", function() {
      var images = document.querySelectorAll("img");
      for (var i = 0; i < images.length; i++) {
        images[i].remove();
      }
    });
  }

  function displayBiden(e) {
    var img = document.createElement("img");
    var biden = bidenCoords[randomInt(0, 86)];
    var pos = [e.clientX, e.clientY];

    img.style.top = pos[1] + "px";
    img.style.left = pos[0] + "px";
    img.style.transform = "translate(" + (-(biden.xy[0] * 100)) + "%," + (-(biden.xy[1] * 100)) + "%)";

    img.src = "./img/" + biden.file;
    img.classList.add("biden");

    el.appendChild(img);

  }

  function randomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1) + min);
  }

  function isTouchDevice(){
    return true == ("ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch);
  }

})(this);
